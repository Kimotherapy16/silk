<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Silk | Manual POS</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #121212;
      color: white;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .navbar {
      background-color: #1f1f1f;
    }
    .navbar-brand {
      color: #00bcd4;
      font-weight: bold;
    }
    .navbar-brand:hover {
      color: #00acc1;
    }
    .nav-link {
      color: white;
    }
    .nav-link:hover {
      color: #00bcd4;
    }
    .form-control, .form-select {
      background-color: #2b2b2b;
      color: white;
      border: none;
    }
    .form-control:focus, .form-select:focus {
      border-color: #00bcd4;
      box-shadow: 0 0 0 0.2rem rgba(0,188,212,0.25);
    }
    .card {
      background-color: #1f1f1f;
      border: none;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
    }
    .btn-custom {
      background-color: #00bcd4;
      color: #121212;
      border: none;
    }
    .btn-custom:hover {
      background-color: #00acc1;
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark px-3">
    <a class="navbar-brand" href="seller-dashboard.html">Silk</a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="seller-dashboard.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="add-product.html">Add Products</a></li>
        <li class="nav-item"><a class="nav-link" href="product.html">My Products</a></li>
        <li class="nav-item"><a class="nav-link" href="orders.html">Orders</a></li>
        <li class="nav-item"><a class="nav-link" href="pos.html">Manual POS</a></li>
        <li class="nav-item"><a class="nav-link" href="profile.html">Profile</a></li>
        <li class="nav-item"><a class="nav-link" href="index.html">Logout</a></li>
      </ul>
    </div>
  </nav>

  <div class="container py-4">
    <h2 class="mb-4">Manual POS</h2>
    <div class="row g-4">
      <div class="col-md-6">
        <div class="card p-3">
          <h5>Select Product</h5>
          <select class="form-select mb-2" id="product-select">
            <option value="">-- Choose a product --</option>
            <option value="hoodie">Hoodie - ₱499</option>
            <option value="tshirt">T-Shirt - ₱299</option>
            <option value="jacket">Jacket - ₱699</option>
            <option value="shorts">Shorts - ₱349</option>
          </select>
          <div id="size-qty" style="display:none">
            <label>Quantity by Size:</label>
            <div class="row g-2">
              <div class="col"><input type="number" min="0" class="form-control" id="qty-xs" placeholder="XS"></div>
              <div class="col"><input type="number" min="0" class="form-control" id="qty-s" placeholder="S"></div>
              <div class="col"><input type="number" min="0" class="form-control" id="qty-m" placeholder="M"></div>
              <div class="col"><input type="number" min="0" class="form-control" id="qty-l" placeholder="L"></div>
              <div class="col"><input type="number" min="0" class="form-control" id="qty-xl" placeholder="XL"></div>
            </div>
            <button class="btn btn-custom mt-3" onclick="addToCart()">Add to Cart</button>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="card p-3">
          <h5>Cart</h5>
          <ul class="list-group mb-3" id="cart-list"></ul>
          <h6>Total: ₱<span id="total-price">0</span></h6>
          <button class="btn btn-success" onclick="checkout()">Checkout</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    const prices = { hoodie: 499, tshirt: 299, jacket: 699, shorts: 349 };
    const cart = [];

    document.getElementById('product-select').addEventListener('change', e => {
      document.getElementById('size-qty').style.display = e.target.value ? 'block' : 'none';
    });

    function addToCart() {
      const product = document.getElementById('product-select').value;
      if (!product) return;

      const sizes = ['xs','s','m','l','xl'];
      const sizeQuantities = sizes.map(size => parseInt(document.getElementById(`qty-${size}`).value) || 0);
      const totalQty = sizeQuantities.reduce((a,b)=>a+b,0);
      if (totalQty === 0) return alert("Please input quantity for at least one size.");

      cart.push({ product, sizes: sizeQuantities });
      updateCart();
    }

    function updateCart() {
      const list = document.getElementById('cart-list');
      list.innerHTML = '';
      let total = 0;
      cart.forEach((item, i) => {
        const name = item.product.charAt(0).toUpperCase() + item.product.slice(1);
        const itemQty = item.sizes.reduce((a,b)=>a+b,0);
        const itemTotal = itemQty * prices[item.product];
        total += itemTotal;
        list.innerHTML += `<li class="list-group-item bg-dark text-white d-flex justify-content-between">${name} x ${itemQty} <span>₱${itemTotal}</span> <button class="btn btn-sm btn-danger" onclick="removeItem(${i})">X</button></li>`;
      });
      document.getElementById('total-price').innerText = total;
    }

    function removeItem(index) {
      cart.splice(index, 1);
      updateCart();
    }

    function checkout() {
      if (!cart.length) return alert("Cart is empty.");
      alert("Order placed successfully!");
      cart.length = 0;
      updateCart();
    }
  </script>
</body>
</html>
